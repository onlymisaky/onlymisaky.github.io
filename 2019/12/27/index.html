<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="è®©vueè€é¡¹ç›®æ”¯æŒjsä¸tsæ··ç”¨"><meta name="keywords" content="JavaScript,TypeScript,vue,webpack"><meta name="author" content="onlymisaky"><meta name="copyright" content="onlymisaky"><title>è®©vueè€é¡¹ç›®æ”¯æŒjsä¸tsæ··ç”¨ | Mikasa</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  hexoVersion: '7.3.0'
} </script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Mikasa" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="åˆ‡æ¢æ–‡ç« è¯¦æƒ…">åˆ‡æ¢ç«™ç‚¹æ¦‚è§ˆ</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%9C%BA"><span class="toc-number">1.</span> <span class="toc-text">åŠ¨æœº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.</span> <span class="toc-text">é¡¹ç›®ä»‹ç»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%87%E7%BA%A7%E8%BF%87%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">å‡çº§è¿‡ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-typescript-ts-loader"><span class="toc-number">3.1.</span> <span class="toc-text">å®‰è£… typescript , ts-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-webpack-%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.</span> <span class="toc-text">ä¿®æ”¹ webpack é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-tsconfig-json"><span class="toc-number">3.3.</span> <span class="toc-text">é…ç½® tsconfig.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEeslint"><span class="toc-number">3.4.</span> <span class="toc-text">é…ç½®eslint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%AF%E6%8C%81%E5%9C%A8ts%E6%96%87%E4%BB%B6%E4%B8%AD%E5%AF%BC%E5%85%A5-vue%E6%96%87%E4%BB%B6"><span class="toc-number">3.5.</span> <span class="toc-text">æ”¯æŒåœ¨tsæ–‡ä»¶ä¸­å¯¼å…¥.vueæ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6-%E4%B8%8D%E6%8E%A8%E8%8D%90%E5%86%8D%E4%BD%BF%E7%94%A8"><span class="toc-number">3.6.</span> <span class="toc-text">ç”¨è£…é¥°å™¨æ³¨å†Œç»„ä»¶(ä¸æ¨èå†ä½¿ç”¨)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8ts%E4%B8%AD%E5%AF%BC%E5%85%A5js"><span class="toc-number">3.7.</span> <span class="toc-text">åœ¨tsä¸­å¯¼å…¥js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4jsconfig-json"><span class="toc-number">3.8.</span> <span class="toc-text">åˆ é™¤jsconfig.json</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E4%B8%80%E6%AD%A5%E8%AE%A1%E5%88%92"><span class="toc-number">4.</span> <span class="toc-text">ä¸‹ä¸€æ­¥è®¡åˆ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/data/img/avatar.png"></div><div class="author-info__name text-center">onlymisaky</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">æ–‡ç« </span><span class="pull-right">24</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">æ ‡ç­¾</span><span class="pull-right">20</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Mikasa</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">ä¸»é¡µ</a><a class="site-page" href="/archives">å½’æ¡£</a><a class="site-page" href="/tags">æ ‡ç­¾</a><a class="site-page" href="/slides">æ¼”è®²</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> æœç´¢</span></a></span></div><div id="post-info"><div id="post-title">è®©vueè€é¡¹ç›®æ”¯æŒjsä¸tsæ··ç”¨</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-12-27</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>ä»Šå¹´å›½åº†å‰(2019)ï¼Œç»ˆäºæŠŠæˆ‘å¸çš„ä¸€ä¸ªè€é¡¹ç›®é‡æ„å®Œæˆ(<a href="/2019/09/20/" title="hiså‰ç«¯é‡æ„ç»éªŒ">hiså‰ç«¯é‡æ„ç»éªŒ</a>)ï¼Œå¼€å‘ä½“éªŒå’Œæ•ˆç‡ä¸Šéƒ½æœ‰äº†è´¨çš„é£è¶Šã€‚ä¸è¿‡ç”±äºä¸€äº›ä¸å¯æŠ—åŸå› (å¯ç”¨äºé‡æ„æ—¶é—´ä¸å¤Ÿå……è£•ã€å†å²ä»£ç é‡è¾ƒå¤§)ï¼Œè¿˜æ˜¯æ²¡èƒ½å°†é¡¹ç›®ç”± JavaScript è¿ç§»åˆ° TypeScriptã€‚</p>
<h2 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h2><p>å¯¹äºå–œæ¬¢tså¥½ä¹…å¥½ä¹…çš„æˆ‘æ¥è¯´ï¼ˆæ²¡é”™ï¼Œæˆ‘å°±æ˜¯é¦‹tsçš„ç±»å‹ç³»ç»Ÿï¼Œæˆ‘ä¸‹è´±ğŸ˜ï¼‰ï¼Œä¸ç”¨tsæˆ‘æµ‘èº«éš¾å—ã€‚è¿™å‘¨ä¹Ÿæ˜¯æŠ½äº†äº›æ—¶é—´ï¼Œè®©è¯¥ç³»ç»Ÿæ”¯æŒtsä¸jsæ··ç”¨äº†ã€‚å½“ç„¶å¹¶ä¸æ˜¯å‡ºäºä¸ªäººåçˆ±tsæ‰åšè¿™æ ·çš„æ”¹åŠ¨ï¼Œä¸»è¦çš„åŠ¨æœºæœ‰å¦‚ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>è¯¥é¡¹ç›®å±äºä¸­å¤§å‹çš„åå°é¡¹ç›®ï¼Œç¡®å®éœ€è¦ç±»å‹ç³»ç»Ÿæ¥æå‡ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§</li>
<li>åœ¨å¤šäººåä½œå¼€å‘ä¸­ï¼Œæœ‰ç±»å‹æç¤ºå¯ä»¥å‡å»å¾ˆå¤šä¸å¿…è¦çš„æ²Ÿé€šæˆæœ¬</li>
<li>æˆ‘å¸çš„å°ç¨‹åºå·²ç»é‡‡ç”¨tsï¼Œæœªæ¥tsä¹Ÿæ˜¯æˆ‘ä»¬å›¢é˜Ÿçš„ä¸»è¦æ–¹å‘ä¹‹ä¸€</li>
</ul>
<p>å¦‚æœè¯»è€…ä¹Ÿæƒ³å¯¹é¡¹ç›®è¿›è¡Œå‡çº§ï¼Œä¸€å®šè¦å…ˆç¡®å®šæ˜¯å¦çœŸçš„æœ‰å¿…è¦ï¼Œ<strong>åˆ‡è«ä¸ºäº†æ»¡è¶³ä¸ªäººçˆ±å¥½ï¼Œä»è€Œç»™æ•´ä¸ªå›¢é˜Ÿå¸¦æ¥é¢å¤–çš„æˆæœ¬ã€‚</strong></p>
<h2 id="é¡¹ç›®ä»‹ç»"><a href="#é¡¹ç›®ä»‹ç»" class="headerlink" title="é¡¹ç›®ä»‹ç»"></a>é¡¹ç›®ä»‹ç»</h2><p>éœ€è¦æ”¹é€ çš„é¡¹ç›®æ˜¯é€šè¿‡ vue-cli3 ç”Ÿæˆçš„æ¨¡æ¿é¡¹ç›®ï¼Œå¼€å¯äº†eslintã€‚</p>
<h2 id="å‡çº§è¿‡ç¨‹"><a href="#å‡çº§è¿‡ç¨‹" class="headerlink" title="å‡çº§è¿‡ç¨‹"></a>å‡çº§è¿‡ç¨‹</h2><h3 id="å®‰è£…-typescript-ts-loader"><a href="#å®‰è£…-typescript-ts-loader" class="headerlink" title="å®‰è£… typescript , ts-loader"></a>å®‰è£… typescript , ts-loader</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i typescript ts-loader -D</span><br></pre></td></tr></table></figure>
<h3 id="ä¿®æ”¹-webpack-é…ç½®"><a href="#ä¿®æ”¹-webpack-é…ç½®" class="headerlink" title="ä¿®æ”¹ webpack é…ç½®"></a>ä¿®æ”¹ webpack é…ç½®</h3><p>ç”±äº vue-cli3 å°† webpack çš„é…ç½®å…¨éƒ¨éšè—èµ·æ¥äº†ï¼Œåªèƒ½é€šè¿‡åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å»ºç«‹ <code>vue.config.js</code> æ¥ä¿®æ”¹é…ç½®ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼æ¥ç¼–å†™é…ç½®</p>
<ol>
<li>é€šè¿‡ç›´æ¥ä¿®æ”¹<code>configureWebpack</code>é€‰é¡¹ï¼Œè¯¥æ–¹å¼å’Œå†™webpacké…ç½®ä¸€æ ·ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œè¿™ä»½é…ç½®ä¼šé€šè¿‡  webpack-merge åˆå¹¶åˆ°æœ€ç»ˆçš„é…ç½®ä¸­</li>
<li>é€šè¿‡  webpack-chain é“¾å¼ä¿®æ”¹é…ç½®ï¼Œvue-cli3 å†…éƒ¨ä¹Ÿæ˜¯é€šè¿‡è¿™æ ·çš„æ–¹å¼æ¥ç»´æŠ¤</li>
</ol>
<p>æˆ‘é€‰æ‹©çš„æ˜¯ç¬¬äºŒç§æ–¹å¼ï¼Œå› ä¸ºå®ƒæœ‰å‹å¥½çš„ç±»å‹æç¤ºï¼Œä¸ç”¨è¾¹å†™è¾¹ç¿»æ–‡æ¡£ï¼Œå…³é”®çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">/** å…¶ä»–ä¸æœ¬æ¬¡æ”¹åŠ¨æ— å…³çš„é…ç½® */</span></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> &#123;<span class="type">import(&#x27;webpack-chain&#x27;)</span>&#125; <span class="variable">config</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    config</span><br><span class="line">      .<span class="property">resolve</span>.<span class="property">extensions</span>.<span class="title function_">add</span>(<span class="string">&#x27;.ts&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;.tsx&#x27;</span>)</span><br><span class="line">      .<span class="title function_">end</span>().<span class="title function_">end</span>()</span><br><span class="line">      .<span class="property">module</span></span><br><span class="line">      .<span class="title function_">rule</span>(<span class="string">&#x27;typescript&#x27;</span>)</span><br><span class="line">      .<span class="title function_">test</span>(<span class="regexp">/\.tsx?$/</span>)</span><br><span class="line">      .<span class="title function_">use</span>(<span class="string">&#x27;babel-loader&#x27;</span>)</span><br><span class="line">      .<span class="title function_">loader</span>(<span class="string">&#x27;babel-loader&#x27;</span>)</span><br><span class="line">      .<span class="title function_">end</span>()</span><br><span class="line">      .<span class="title function_">use</span>(<span class="string">&#x27;ts-loader&#x27;</span>)</span><br><span class="line">      .<span class="title function_">loader</span>(<span class="string">&#x27;ts-loader&#x27;</span>)</span><br><span class="line">      .<span class="title function_">options</span>(&#123;</span><br><span class="line">        <span class="attr">transpileOnly</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">appendTsSuffixTo</span>: [</span><br><span class="line">          <span class="string">&#x27;\\.vue$&#x27;</span>,</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">happyPackMode</span>: <span class="literal">false</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">end</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦çš„é…ç½®å°±æ˜¯å¯¹äº <code>.ts</code>ã€<code>.tsx</code>æ–‡ä»¶å…ˆé€šè¿‡ ts-loader è§£æï¼Œç„¶åå†äº¤ç”±babelå¤„ç†ã€‚</p>
<p>å¦‚æœä½ çš„é¡¹ç›®æ˜¯ vue-cli2 ç”Ÿæˆçš„è¯ï¼Œç›´æ¥åœ¨ <code>build/webpack.base.conf.js</code> ä¸­åšç›¸å…³çš„ä¿®æ”¹å³å¯ï¼Œå…³é”®ä»£ç å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// build/webpack.base.conf.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">/** å…¶ä»–ä¸æœ¬æ¬¡æ”¹åŠ¨æ— å…³çš„é…ç½® */</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="comment">/** other code */</span></span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>, <span class="string">&#x27;.ts&#x27;</span>], <span class="comment">// æ·»åŠ  .ts æ‰©å±•å</span></span><br><span class="line">  &#125;,</span><br><span class="line">  Â <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">/** other code */</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.tsx?$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span> &#125;,</span><br><span class="line">          &#123; </span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;ts-loader&#x27;</span>, </span><br><span class="line">            <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, </span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">transpileOnly</span>: <span class="literal">true</span>,</span><br><span class="line">              <span class="attr">appendTsSuffixTo</span>: [</span><br><span class="line">                <span class="string">&#x27;\\.vue$&#x27;</span></span><br><span class="line">              ],</span><br><span class="line">              <span class="attr">happyPackMode</span>: <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®-tsconfig-json"><a href="#é…ç½®-tsconfig-json" class="headerlink" title="é…ç½® tsconfig.json"></a>é…ç½® tsconfig.json</h3><p>tsçš„ç¼–è¯‘éœ€è¦è¯»å– <a target="_blank" rel="noopener" href="https://www.tslang.cn/docs/handbook/tsconfig-json.html">tsconfig.json</a> æ–‡ä»¶ï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º tsconfig.json æ–‡ä»¶</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// tsconfig.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esnext&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esnext&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;strict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;jsx&quot;</span><span class="punctuation">:</span> <span class="string">&quot;preserve&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;importHelpers&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;moduleResolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;experimentalDecorators&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;esModuleInterop&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;allowSyntheticDefaultImports&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;webpack-env&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;@/*&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;src/*&quot;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lib&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;esnext&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;dom&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;dom.iterable&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;scripthost&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;src/**/*.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;src/**/*.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;src/**/*.tsx&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;src/**/*.vue&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;tests/**/*.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;tests/**/*.tsx&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;exclude&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;node_modules&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿›è¡Œåˆ°è¿™ä¸€æ­¥ï¼Œå¦‚æœä½ åªæ˜¯æƒ³ç®€å•çš„åœ¨é¡¹ç›®ä¸­æ··ç”¨tsçš„è¯(æ¯”å¦‚åœ¨.jsã€.vueä¸­å¼•å…¥.ts)ï¼Œé…ç½®å°±ç®—æ˜¯å…¨éƒ¨å®Œæˆäº†ï¼Œä½ å¯ä»¥æ–°å»ºä¸€ä¸ª <code>.ts</code> æ–‡ä»¶ï¼Œç„¶åå†å…¥å£æ–‡ä»¶ä¸­å¯¼å…¥å¼€å‘æµ‹è¯•äº†ï¼›å¦‚æœä½ è¿˜éœ€è¦eslintè¿›è¡Œä»£ç è§„èŒƒã€ç¼–å†™ç±»ç»„ä»¶ç­‰éœ€æ±‚çš„ï¼Œåˆ™éœ€è¦ç»§ç»­è¿›è¡Œä¸‹é¢çš„æ­¥éª¤</p>
<h3 id="é…ç½®eslint"><a href="#é…ç½®eslint" class="headerlink" title="é…ç½®eslint"></a>é…ç½®eslint</h3><p>å› ä¸ºeslintçš„ç”Ÿæ€åœˆæ¯”è¾ƒç¹è£ï¼Œtypescriptå›¢é˜Ÿå·²ç»æ”¾å¼ƒäº†tslintä»è€Œè½¬å‘eslintï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¹Ÿæ˜¯ç”¨eslintä½œä¸ºä»£ç è§„èŒƒæ ¡éªŒçš„å·¥å…·ã€‚éœ€è¦å®‰è£…ä»¥ä¸‹å·¥å…·</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i @typescript-eslint/eslint-plugin @typescript-eslint/parser @vue/eslint-config-typescript -D</span><br></pre></td></tr></table></figure>
<p>ç„¶åä¿®æ”¹eslinté…ç½®æ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// å…³é”®é…ç½®</span></span><br><span class="line">   <span class="attr">plugins</span>: [<span class="string">&#x27;@typescript-eslint&#x27;</span>],</span><br><span class="line">   <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:vue/essential&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@vue/airbnb&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@vue/typescript&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">parser</span>: <span class="string">&#x27;@typescript-eslint/parser&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ”¯æŒåœ¨tsæ–‡ä»¶ä¸­å¯¼å…¥-vueæ–‡ä»¶"><a href="#æ”¯æŒåœ¨tsæ–‡ä»¶ä¸­å¯¼å…¥-vueæ–‡ä»¶" class="headerlink" title="æ”¯æŒåœ¨tsæ–‡ä»¶ä¸­å¯¼å…¥.vueæ–‡ä»¶"></a>æ”¯æŒåœ¨tsæ–‡ä»¶ä¸­å¯¼å…¥.vueæ–‡ä»¶</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œtypescriptæ˜¯æ— æ³•è¯†åˆ« .vue æ–‡ä»¶ï¼Œå½“ä½ éœ€è¦åœ¨tså¯¼å…¥vueçš„å•æ–‡ä»¶ç»„ä»¶æ—¶(æ¯”å¦‚è·¯ç”±é…ç½®)ï¼Œç¼–è¾‘å™¨ä¼šæŠ¥é”™ï¼š<code>æ‰¾ä¸åˆ°æ¨¡å—</code>ã€‚ä¸ºäº†è®©tsèƒ½å°† .vue å½“æˆæ¨¡å—è¯†åˆ«ï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­åˆ›å»º<code>shims-vue.d.ts</code>æ–‡ä»¶ï¼Œè¿™æ ·tså°±ä¼šæŠŠ .vue æ–‡ä»¶å½“æˆæ¨¡å—æ¥è§£æäº†ã€‚</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// src/shims-vue.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;*.vue&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Vue</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç”¨è£…é¥°å™¨æ³¨å†Œç»„ä»¶-ä¸æ¨èå†ä½¿ç”¨"><a href="#ç”¨è£…é¥°å™¨æ³¨å†Œç»„ä»¶-ä¸æ¨èå†ä½¿ç”¨" class="headerlink" title="ç”¨è£…é¥°å™¨æ³¨å†Œç»„ä»¶(ä¸æ¨èå†ä½¿ç”¨)"></a>ç”¨è£…é¥°å™¨æ³¨å†Œç»„ä»¶(ä¸æ¨èå†ä½¿ç”¨)</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i vue-property-decorator -S</span><br></pre></td></tr></table></figure>
<p>ç”±äºvueçš„apiè®¾è®¡åŸå› ï¼Œå¯¼è‡´å…¶å¾ˆéš¾ä½¿ç”¨tsæ¥ç¼–å†™vueç»„ä»¶(æ— æ³•æ­£ç¡®çš„æ¨å¯¼å‡ºthis)ï¼Œæ‰€ä»¥è¿˜éœ€è¦å®‰è£…<code>vue-property-decorator</code>ï¼Œé€šè¿‡å®ƒæä¾›çš„ä¸€åˆ—è£…é¥°å™¨ï¼Œæ¥ç¼–å†™ç±»ç»„ä»¶ï¼Œç”¨èµ·æ¥å¤§æœ‰ä¸€ç§angularçš„æ„Ÿè§‰ï¼Œå…·ä½“å¯ä»¥ç§»æ­¥åˆ°è¿™é‡ŒğŸ‘‰ <a target="_blank" rel="noopener" href="https://github.com/kaorun343/vue-property-decorator">https://github.com/kaorun343/vue-property-decorator</a>ï¼Œè¯¦ç»†çš„å‚è€ƒdemoğŸ‘‰<a target="_blank" rel="noopener" href="https://github.com/onlymisaky/TodoMvc-vue">TodoMvc-vue</a></p>
<p>ä¸è¿‡vueå®˜æ–¹å·²ç»å†³å®šæ”¾å¼ƒè¿™ç§å†™æ³•ï¼Œå­¦ä¹ reactçš„hookå¹¶æ¨å‡ºäº†composition-apiï¼Œè™½ç„¶ç¤¾åŒºå¯¹æ­¤é¢‡æœ‰ä¸æ»¡ã€‚æ‰€ç°é˜¶æ®µä¸æ¨èè£…é¥°å™¨å†™æ³•ï¼Œç­‰vue3æ­£å¼å‘å¸ƒåå†é€æ­¥è¿ç§»vueç»„ä»¶å§ã€‚</p>
<h3 id="åœ¨tsä¸­å¯¼å…¥js"><a href="#åœ¨tsä¸­å¯¼å…¥js" class="headerlink" title="åœ¨tsä¸­å¯¼å…¥js"></a>åœ¨tsä¸­å¯¼å…¥js</h3><p>æ—¢ç„¶æ˜¯tså’Œjsæ··ç”¨ï¼Œé‚£å°±ä¼šå­˜åœ¨jsä¸­å¯¼å…¥tsï¼Œæˆ–tsä¸­å¯¼å…¥jsçš„æƒ…å†µã€‚å‰è€…ä¸€èˆ¬æƒ…å†µç»è¿‡ä¸Šé¢çš„é…ç½®ï¼Œæ˜¯ä¸ä¼šæœ‰å¤ªå¤šé—®é¢˜å‡ºç°çš„ã€‚è€Œåè€…(tsä¸­å¯¼å…¥js)å¯èƒ½åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œç¼–è¾‘å™¨å¯èƒ½ä¼šæç¤ºä¸€äº›å°é”™è¯¯ã€‚è¿™æ—¶å€™å°±éœ€è¦ä½ ä¸ºç›¸å…³çš„jsæ–‡ä»¶ç¼–å†™ç±»å‹æç¤ºæ–‡ä»¶äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">m, n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> m + n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†åœ¨tsä¸­å¯¼å…¥a.jsä¸æŠ¥é”™ï¼Œæˆ‘ä»¬è¦åœ¨ç›¸åŒçš„ç›®å½•ä¸‹åˆ›å»º<code>a.d.ts</code>ç±»å‹æç¤ºæ–‡ä»¶</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> sum = <span class="function">(<span class="params"><span class="attr">m</span>: <span class="built_in">number</span>, <span class="attr">n</span>:<span class="built_in">number</span></span>) =&gt;</span> numer;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå¯¼å…¥çš„jsæ–‡ä»¶ä»£ç é‡ä¸æ˜¯å¾ˆå¤šï¼Œå»ºè®®ç›´æ¥ä¿®æ”¹æºæ–‡ä»¶ã€‚</p>
<h3 id="åˆ é™¤jsconfig-json"><a href="#åˆ é™¤jsconfig-json" class="headerlink" title="åˆ é™¤jsconfig.json"></a>åˆ é™¤jsconfig.json</h3><p>å¦‚æœä½ ä½¿ç”¨äº†vscodeä½œä¸ºå¼€å‘å·¥å…·ï¼Œå¹¶ä¸”ä¹Ÿé…ç½®äº†<code>jsconfig.json</code>æ–‡ä»¶ã€‚é‚£ä¹ˆåœ¨å¼•å…¥tsä¹‹åï¼Œä½ å®Œå…¨å¯ä»¥åˆ é™¤è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åå°†<code>tsconfig.json</code>ä¸­çš„<code>compilerOptions.allowJs</code>è®¾ç½®ä¸º<code>true</code>å³å¯ã€‚<a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/languages/jsconfig">https://code.visualstudio.com/docs/languages/jsconfig</a></p>
<h2 id="ä¸‹ä¸€æ­¥è®¡åˆ’"><a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="headerlink" title="ä¸‹ä¸€æ­¥è®¡åˆ’"></a>ä¸‹ä¸€æ­¥è®¡åˆ’</h2><p>æ¥ä¸‹æ¥ä¼šé€æ­¥å°†æ‰€æœ‰çš„ .js æ–‡ä»¶åŠ ä¸Šç±»å‹ç³»ç»Ÿï¼Œè½¬æˆ .ts æ–‡ä»¶ã€‚å¯¹äº .vue å•æ–‡ä»¶ç»„ä»¶ï¼Œç»§ç»­ä¿æŒåŸæœ‰å†™æ³•ï¼Œç­‰åˆ°vue3å‘å¸ƒåå†åšè¿ç§»çš„æ‰“ç®—ã€‚å½“ç„¶ä¹Ÿæœ‰å¯èƒ½ä¼šè¿ç§»åˆ°å…¶ä»–çš„æ¡†æ¶ï¼Œåœ¨è¿™æœŸé—´åªè¦ä¸æ–­å¼±åŒ– vue çš„æ¯”é‡ï¼Œè®©å®ƒä¹‹è´Ÿè´£ ui éƒ¨åˆ†ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol>
<li>å®‰è£… <code>typescript</code>ã€<code>ts-laoder</code>ï¼Œä¿®æ”¹webpacké…ç½®ï¼Œæ”¯æŒå¯¹<code>.ts</code>æ–‡ä»¶çš„è§£æ</li>
<li>é…ç½® <code>tsconfig.json</code></li>
<li>é…ç½® <code>eslint</code></li>
<li>æ·»åŠ  <code>shims-vue.d.ts</code> æ”¯æŒå¯¹ .vue æ–‡ä»¶çš„è¯†åˆ«</li>
<li>å¦‚æœéœ€è¦ç¼–å†™ç±»ç»„ä»¶ï¼Œå®‰è£… <code>vue-property-decorato</code></li>
<li>ä¸ºéœ€è¦å¯¼å…¥åˆ°tsæ–‡ä»¶ä¸­çš„jsæ–‡ä»¶ç¼–å†™ç±»å‹æ–‡ä»¶ï¼Œæˆ–è€…ç›´æ¥ä¿®æ”¹è¯¥æ–‡ä»¶ä¸º .ts æ–‡ä»¶</li>
</ol>
</div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a><a class="post-meta__tags" href="/tags/TypeScript/">TypeScript</a><a class="post-meta__tags" href="/tags/vue/">vue</a><a class="post-meta__tags" href="/tags/webpack/">webpack</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="/data/img/wechat.jpeg"><div class="post-qr-code__desc">è¯·æˆ‘å–æ¯å’–å•¡</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="/data/img/alipay.jpg"><div class="post-qr-code__desc">è¯·æˆ‘å–æ¯å’–å•¡</div></div></div><div class="social-share pull-right"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/01/02/"><i class="fa fa-chevron-left">  </i><span>æˆ‘åœ¨é”¤æ¡Œå­</span></a></div><div class="next-post pull-right"><a href="/2019/09/20/"><span>hiså‰ç«¯é‡æ„ç»éªŒ</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="vcomment"></div><script src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = 'true' == 'true';
var verify = 'false' == 'true';
var record_ip = '' == 'true';
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  recordIP:record_ip,
  appId:'YrE19blOm57GQPNTt88rSVH1-gzGzoHsz',
  appKey:'oRNhpwKhbCysF0mGtcnONIQA',
  placeholder:'å¿«æ¥è¯„è®ºå§',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10',
  lang: 'zh-cn'
})</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2024 By onlymisaky</div><div class="framework-info"><span>é©±åŠ¨ - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Hey! You Find Me!</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>